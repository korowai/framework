ARG KRW_IMG
FROM ${KRW_IMG}
MAINTAINER Pawe≈Ç Tomulik <ptomulik@meil.pw.edu.pl>

ARG KRW_USER='korowai'
ARG KRW_GROUP='korowai'
ARG KRW_UID=1000
ARG KRW_GID=1000
ARG KRW_HOME=/home/${KRW_USER}
ARG KRW_CODE=${KRW_HOME}/code

ENV KRW_USER=$KRW_USER \
    KRW_GROUP=$KRW_GROUP \
    KRW_UID=$KRW_UID \
    KRW_GID=$KRW_GID \
    KRW_HOME=$KRW_HOME \
    KRW_CODE=$KRW_CODE

RUN addgroup -g $KRW_GID $KRW_GROUP && \
    adduser -h $KRW_HOME -G $KRW_GROUP -u $KRW_UID -D $KRW_USER

VOLUME $KRW_CODE

USER $KRW_USER

WORKDIR $KRW_CODE

# vim: set ft=dockerfile:
